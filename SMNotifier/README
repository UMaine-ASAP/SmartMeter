Smart Meter Notifications Module (SMNotifier):

Overview:

The Smart Meter Notifications Module allows the sending of email and text message based notifications from within the Smart Meter site.  The SMNotifier API provides two commands: notify() and notifyMultiple().  notify() requires a user id for the matching user in the Smart Meter database, a message (limited to 160 characters), and an optional subject line if an email is sent.  notifyMultiple() has the same parameters, however instead of an id, the function expects an array of ids.  Both methods will find the user's preffered method of contact on file in the database, and dispatch emails and/or text messages as appropriate.

Configuration:

SMNotifier requires a valid Twilio.com account with a positive account balance for sending text messages.  The account id and authentication key must be placed in the variables file.

The table structure required must be set up in the Smart Meter site database.  The access information for the database must be placed in the variables file.

The sending script must be linked to a cron tab to send notifications.

There are optional email pre and post strings in the variables file which will be wrapped around all sent emails.  These can be used for email templates and should include a link to the user's settings to disable notifications.